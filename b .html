<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Anime Hub — 55+ Anime (Single File)</title>
<style>
  :root{
    --bg:#0f1724; --card:#0b1220; --muted:#9aa7bf; --accent:#7c3aed;
    --glass: rgba(255,255,255,0.03);
    --card-radius:12px;
  }
  *{box-sizing:border-box}
  body{
    margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
    background: linear-gradient(180deg,#071029 0%, #071b2c 60%);
    color:#e6eef8; -webkit-font-smoothing:antialiased;
  }
  header{
    padding:20px;display:flex;gap:18px;align-items:center;flex-wrap:wrap;
    border-bottom:1px solid rgba(255,255,255,0.03);webkit-backdrop-filter: blur(6px);
  }
  h1{margin:0;font-size:20px;letter-spacing:0.2px}
  .controls{margin-left:auto;display:flex;gap:10px;flex-wrap:wrap;align-items:center}
  .search{
    display:flex;gap:8px;align-items:center;
    background:var(--glass);padding:8px;border-radius:10px;
  }
  .search input{background:transparent;border:0;color:var(--muted);outline:none;width:220px}
  select, button, .chip{
    background:transparent;color:var(--muted);border:1px solid rgba(255,255,255,0.04);padding:8px 10px;border-radius:8px;
  }
  button{cursor:pointer}
  main{padding:24px;max-width:1200px;margin:0 auto}
  .grid{
    display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:16px;
  }
  .card{
    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.03));
    border-radius:var(--card-radius); overflow:hidden; border:1px solid rgba(255,255,255,0.03);
    transition:transform .18s ease, box-shadow .18s ease; display:flex;flex-direction:column;
  }
  .card:hover{transform:translateY(-6px);box-shadow:0 10px 30px rgba(0,0,0,0.5)}
  .poster{height:240px; display:flex;align-items:center;justify-content:center;font-weight:700;font-size:20px}
  .meta{padding:12px;flex:1;display:flex;flex-direction:column;gap:8px}
  .title{font-size:15px;color:#eaf3ff;margin:0}
  .sub{font-size:12px;color:var(--muted);margin:0}
  .tags{display:flex;gap:6px;flex-wrap:wrap}
  .tag{font-size:11px;padding:4px 6px;border-radius:6px;background:rgba(255,255,255,0.02);color:var(--muted)}
  .actions{display:flex;gap:8px;align-items:center}
  .fav{margin-left:auto;padding:6px 8px;border-radius:8px}
  .small{font-size:12px;color:var(--muted)}
  footer{padding:18px;text-align:center;color:var(--muted)}
  .modal-backdrop{position:fixed;inset:0;background:linear-gradient(180deg,rgba(2,6,23,0.6), rgba(2,6,23,0.85));display:none;align-items:center;justify-content:center;padding:20px;z-index:60}
  .modal{background:linear-gradient(180deg,#071124, #071227);border-radius:14px;max-width:920px;width:100%;max-height:90vh;overflow:auto;border:1px solid rgba(255,255,255,0.04);padding:18px;display:flex;gap:16px}
  .modal .left{min-width:280px}
  .modal .right{flex:1}
  .close{margin-left:auto;padding:6px 10px;border-radius:8px;cursor:pointer}
  @media (max-width:700px){
    .poster{height:180px}
    .search input{width:120px}
    header{padding:12px}
    .modal{flex-direction:column}
  }
  .no-results{padding:36px;border-radius:10px;background:rgba(255,255,255,0.02);color:var(--muted);text-align:center}
  .fav.active{background:linear-gradient(90deg,#ffb86b,#ff6b9b);color:#081023;border:none}
</style>
</head>
<body>
<header>
  <div style="display:flex;align-items:center;gap:12px">
    <svg width="38" height="38" viewBox="0 0 24 24" fill="none" aria-hidden>
      <rect width="24" height="24" rx="6" fill="#0b1220"/>
      <path d="M4 8c4 3 8 3 12 0" stroke="#7c3aed" stroke-width="1.6" stroke-linecap="round"/>
      <circle cx="8.5" cy="9" r="1.8" fill="#7c3aed"/>
    </svg>
    <div>
      <h1>Anime Hub — 55+ Titles</h1>
      <div style="font-size:12px;color:var(--muted)">Browse, search, favorite — single-file demo</div>
    </div>
  </div>

  <div class="controls" role="toolbar" aria-label="controls">
    <div class="search" title="Search by title">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="M21 21l-4.35-4.35" stroke="#9aa7bf" stroke-width="1.6" stroke-linecap="round"/></svg>
      <input id="search" placeholder="Search anime..." aria-label="search anime">
    </div>

    <select id="genreFilter" multiple style="min-width:160px" title="Filter by genre (multi-select)">
      <!-- Options populated by JS -->
    </select>

    <select id="sortSelect" title="Sort">
      <option value="title-asc">Title ↑</option>
      <option value="title-desc">Title ↓</option>
      <option value="year-desc">Year ↓</option>
      <option value="year-asc">Year ↑</option>
    </select>

    <button id="clearBtn" title="Clear filters">Clear</button>
  </div>
</header>

<main>
  <div id="grid" class="grid" aria-live="polite"></div>
  <div id="noResults" class="no-results" style="display:none">No anime found. Try searching different terms or clear filters.</div>
</main>

<footer>
  Built with ❤ — Local-only demo. Favorites persist to your browser.
</footer>

<div id="backdrop" class="modal-backdrop" role="dialog" aria-modal="true">
  <div class="modal" role="document">
    <div class="left">
      <div id="modalPoster" class="poster" style="height:360px;border-radius:10px;overflow:hidden"></div>
      <div style="margin-top:12px;display:flex;gap:8px;align-items:center">
        <button id="modalFav" class="fav">Add to Favorites</button>
        <button id="modalClose" class="close">Close</button>
      </div>
    </div>
    <div class="right">
      <h2 id="modalTitle" style="margin:0 0 8px 0"></h2>
      <div id="modalMeta" class="small" style="margin-bottom:12px"></div>
      <div id="modalDesc" style="color:var(--muted);line-height:1.5"></div>
      <div style="margin-top:12px">
        <strong style="font-size:13px;color:#dfeeff">Genres:</strong>
        <div id="modalTags" class="tags" style="margin-top:8px"></div>
      </div>
    </div>
  </div>
</div>

<script>
let animeData = JSON.parse(localStorage.getItem('mt7AnimeData')||'null');
if(!animeData){
  animeData = [
    {id:1,title:"Naruto",year:2002,genres:["Action","Adventure"],desc:"A young ninja seeks recognition and dreams of becoming Hokage."},
    {id:2,title:"One Piece",year:1999,genres:["Action","Adventure"],desc:"A boy with rubber powers seeks the legendary One Piece treasure."},
    {id:3,title:"Attack on Titan",year:2013,genres:["Action","Drama"],desc:"Humanity fights giant humanoid Titans behind massive walls."},
    // ... (keep the other 50+ anime here from before)
  ];
}
let nextId = animeData.length ? Math.max(...animeData.map(a=>a.id))+1 : 1;

const grid = document.getElementById('grid');
const searchInput = document.getElementById('search');
const sortSelect = document.getElementById('sortSelect');
const clearBtn = document.getElementById('clearBtn');
const uploadBtn = document.getElementById('uploadBtn');
const uploadModal = document.getElementById('uploadModal');
const closeUpload = document.getElementById('closeUpload');
const saveAnime = document.getElementById('saveAnime');
const upTitle = document.getElementById('upTitle');
const upYear = document.getElementById('upYear');
const upGenres = document.getElementById('upGenres');
const upDesc = document.getElementById('upDesc');

function renderGrid(){
  const q = searchInput.value.trim().toLowerCase();
  let items = animeData.filter(a => a.title.toLowerCase().includes(q));
  const sortVal = sortSelect.value;
  if(sortVal === 'title-asc') items.sort((a,b)=> a.title.localeCompare(b.title));
  if(sortVal === 'title-desc') items.sort((a,b)=> b.title.localeCompare(a.title));
  if(sortVal === 'year-asc') items.sort((a,b)=> a.year - b.year);
  if(sortVal === 'year-desc') items.sort((a,b)=> b.year - a.year);
  grid.innerHTML = '';
  items.forEach(a=>{
    const card = document.createElement('div');
    card.className = 'card';
    card.innerHTML = `<div class="poster" style="background:#7c3aed;color:white;display:flex;align-items:center;justify-content:center">${a.title[0]}</div>
                      <div class="meta">
                        <h3 class="title">${a.title}</h3>
                        <p class="sub">${a.year} • ${a.genres.join(', ')}</p>
                        <div class="small">${a.desc}</div>
                      </div>`;
    grid.appendChild(card);
  });
}

function saveData(){
  localStorage.setItem('mt7AnimeData', JSON.stringify(animeData));
}

searchInput.addEventListener('input', renderGrid);
sortSelect.addEventListener('change', renderGrid);
clearBtn.addEventListener('click', ()=>{searchInput.value=''; sortSelect.value='title-asc'; renderGrid();});

uploadBtn.addEventListener('click', ()=>{uploadModal.style.display='flex';});
closeUpload.addEventListener('click', ()=>{uploadModal.style.display='none';});

saveAnime.addEventListener('click', ()=>{
  const title = upTitle.value.trim();
  const year = parseInt(upYear.value.trim());
  const genres = upGenres.value.split(',').map(g=>g.trim()).filter(Boolean);
  const desc = upDesc.value.trim();
  if(!title || !year || !desc) return alert('Please fill all fields');
  animeData.push({id:nextId++, title, year, genres, desc});
  saveData();
  renderGrid();
  upTitle.value=''; upYear.value=''; upGenres.value=''; upDesc.value='';
  uploadModal.style.display='none';
});

renderGrid();
</script>
</body>
</html>
